{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "DevScape State Schema",
  "description": "Schema for the main game state, including player, traits, quests, and planetary feedback.",
  "type": "object",
  "properties": {
    "player": {
      "type": "object",
      "properties": {
        "name": { "type": "string", "description": "The player's name." },
        "level": { "type": "integer", "minimum": 1, "description": "The player's current level." },
        "health": { "type": "integer", "minimum": 0, "description": "The player's current health points." },
        "inventory": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "item_id": { "type": "string" },
              "quantity": { "type": "integer", "minimum": 1 }
            },
            "required": ["item_id", "quantity"]
          },
          "description": "List of items in the player's inventory."
        }
      },
      "required": ["name", "level", "health", "inventory"]
    },
    "traits": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "trait_id": { "type": "string" },
          "level": { "type": "integer", "minimum": 1 },
          "description": { "type": "string" }
        },
        "required": ["trait_id", "level", "description"]
      },
      "description": "List of active traits and their levels."
    },
    "quests": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "quest_id": { "type": "string" },
          "status": { "type": "string", "enum": ["active", "completed", "failed"] },
          "progress": { "type": "number", "minimum": 0, "maximum": 100 }
        },
        "required": ["quest_id", "status", "progress"]
      },
      "description": "List of active and completed quests."
    },
    "planetary_feedback": {
      "type": "object",
      "properties": {
        "mood": { "type": "string", "description": "Overall planetary mood (e.g., 'calm', 'unrest', 'joy')." },
        "last_event": { "type": "string", "format": "date-time", "description": "Timestamp of the last significant planetary event." },
        "events_log": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "event_id": { "type": "string" },
              "timestamp": { "type": "string", "format": "date-time" },
              "description": { "type": "string" }
            },
            "required": ["event_id", "timestamp", "description"]
          },
          "description": "Log of recent planetary events."
        }
      },
      "required": ["mood", "last_event", "events_log"]
    }
  },
  "required": ["player", "traits", "quests", "planetary_feedback"]
}
